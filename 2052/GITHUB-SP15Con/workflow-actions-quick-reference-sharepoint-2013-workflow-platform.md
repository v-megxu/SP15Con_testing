---
title: 工作流操作快速参考（SharePoint 2013 工作流平台）
ms.prod: SHAREPOINT
ms.assetid: eb3434e5-bc75-4474-8873-4980062fd29c
---



# 工作流操作快速参考（SharePoint 2013 工作流平台）
该参考文档列出了除不可用的工作流操作之外，当前 SharePoint Designer 2013 版本支持的工作流操作。
## SharePoint Designer 2013 中的工作流操作
<a name="bkm_WorkflowActions"> </a>

以下是 SharePoint 2013 工作流平台上可用的工作流操作参考文档。除 SharePoint 2013 工作流平台之外，SharePoint Designer 2013 也支持 SharePoint 2010 工作流平台。若要查看 2010 平台的工作流操作，请参阅  [工作流操作快速参考（SharePoint 2010 工作流平台）](workflow-actions-quick-reference-sharepoint-2010-workflow-platform.md)
  
    
    

### 核心操作
<a name="bkm_CoreActions"> </a>

核心操作是那些最常执行的操作，它们通常组合在一起以便于访问。
  
    
    

**表 1. 核心操作参考**


|**操作**|**说明**|
|:-----|:-----|
|添加注释  <br/> |使您能够在工作流设计器中留下相关评论以供参考。当有其他用户对工作流进行协作时，这将非常有用。  <br/> |
|将时间添加到日期  <br/> |将以分钟、小时、天或月表示的特定时间添加到一个日期（不支持年），并将输出值存储为一个变量。该日期可以是当前数据、特定日期或查阅。"当前日期"值返回 UTC 午夜。  <br/> |
|生成词典  <br/> |生成具备多个键/值对的词典变量。  <br/> > **注释**> 该词典使用 JSON 符号存储数据。           有关词典变量的详细信息，请参阅  [了解 SharePoint Designer 2013 中的词典操作](understanding-dictionary-actions-in-sharepoint-designer-2013.md) <br/> |
|调用 HTTP Web 服务  <br/> |作为调用 HTTP Web 服务方法的函数返回 JSON 格式的数据。RequestHeader 支持基本身份验证。  <br/> 有关词典变量的详细信息，请参阅  [了解 SharePoint Designer 2013 中的词典操作](understanding-dictionary-actions-in-sharepoint-designer-2013.md) <br/> |
|词典中的计数项目  <br/> |在指定的词典中返回项数的统计值。  <br/> |
|进行计算  <br/> |执行算术计算，并将输出的值存储在一个变量中。  <br/> > **注释**> 对于 SharePoint 2013 来说，此操作仅支持 **Double** 数值类型，不支持整数，不支持使用"+"运算符（串联）的字符串。          |
|从词典中获取项目  <br/> |从词典变量返回一个特定项。  <br/> |
|记录到历史记录列表  <br/> |将预定义的消息项目列表中的消息写入到工作流历史记录列表中。  <br/> |
|暂停持续时间  <br/> |导致工作流暂停执行指定的时间间隔（以天、小时和分钟这种格式表示）。  <br/> |
|暂停到某个日期  <br/> |导致工作流暂停执行，直到指定的日期和时间。  <br/> |
|发送电子邮件  <br/> |当发生指定的工作流事件时，会给用户或组自动发送一封电子邮件，其中包含预先确定的消息。  <br/> > **重要信息**> 如果该网站未添加到受信任的网站列表中，电子邮件会发送到 Outlook 垃圾文件夹中。           |
|设置日期/时间域的时间部分  <br/> |创建一个时间戳，并将输出值存储在一个变量中。您可以以小时和分钟设置时间，并添加当前日期、特定日期或查找。  <br/> |
|设置工作流状态  <br/> |设置工作流的状态。  <br/> |
|设置工作流变量  <br/> |将工作流变量设置为一个值。当您希望工作流将数据分配给一个变量时，也可以使用此操作。  <br/> |
|转到阶段  <br/> |指定下一个应执行工作流控制的阶段。  <br/> |
   

### 协调操作
<a name="bkm_CoreActions"> </a>

协调操作用于调用基于 SharePoint 2010 工作流平台的工作流。有关协调操作的详细信息，请参阅  [了解 SharePoint Designer 2013 中的协调操作](understanding-coordination-actions-in-sharepoint-designer-2013.md)
  
    
    

**表 2. 协调操作参考**


|**操作**|**说明**|
|:-----|:-----|
|启动列表工作流  <br/> |启动基于 SharePoint 2010 工作流平台的列表工作流。  <br/> > **注释**>  "启动列表工作流"具有下列问题：>  当 2010 工作流中有 TaskProcess 操作时，"任务"类型域不能用作参数。>  当对同一 2010 工作流进行多次调用时，2013 工作流查找功能中会有多个数据源。这些数据源都是一样的。>  2013 的变量名中不能包含"?"和"#"之类的特殊字符。如果 2010 工作流中包含特殊字符，在 2013 工作流中它们将被转换为十六进制代码。          |
|启动网站工作流  <br/> |启动基于 SharePoint 2010 工作流平台的网站工作流。  <br/> > **注释**>  "启动列表工作流"具有下列问题：>  当 2010 工作流中有 TaskProcess 操作时，"任务"类型域不能用作参数。>  当对同一 2010 工作流进行多次调用时，2013 工作流查找功能中会有多个数据源。这些数据源都是一样的。>  2013 的变量名中不能包含"?"和"#"之类的特殊字符。如果 2010 工作流中包含特殊字符，在 2013 工作流中它们将被转换为十六进制代码。          |
   

### 列表操作
<a name="bkm_ListActions"> </a>

列表操作组共同操作适用于操作列表和列表项。
  
    
    

**表 3. 列表操作参考**


|**操作**|**说明**|
|:-----|:-----|
|签入项目  <br/> |签入已签出的项。您只能从一个文档库中签入项目。  <br/> > **警告**> 当您试图签入一个未签出的项目时，工作流就会崩溃。           |
|签出项目  <br/> |签出一个项目。工作流验证该项目签入之前是否已从文档中签出。您只能从自己的网站的库中签出项目。  <br/> > **警告**> 当您试图签出一个未签入的项目时，工作流会出错。           |
|复制文档  <br/> |将文档从当前列表复制到一个不同的文档库列表。  <br/> |
|创建列表项  <br/> |在您指定的列表中创建新的列表项。您可以提供新项目中的域和值。每当要用特定的信息创建新项目时，您都可以使用此操作。  <br/> |
|删除项目  <br/> |删除一个项目。  <br/> > **注释**> 在运行 Workflow Manager 工作流引擎的计算机上，该操作将会被终止，并会引发一个 **System.InvalidOperationException** 异常。没有解决办法。          |
|放弃签出项目  <br/> |当项目被签出并对其做了更改时，放弃更改并将其签回来。  <br/> > **警告**> 当您试图签入一个未签出的项目时，工作流就会崩溃。           |
|设置当前项目中的域  <br/> |将当前项目中的指定域设置为指定值。  <br/> > **注释**> 如果您需要该工作流暂停到该域的值出现更改，请使用"等待列表项中的事件"操作代替此操作。           |
|翻译文档  <br/> |将文档翻译为一种特定语言。  <br/> > **注释**> 需要一个预配置的机器翻译服务应用程序。           |
|更新列表项  <br/> |更新列表项。您可以指定域以及这些域中的新值。  <br/> |
|等待列表项中的事件  <br/> |[增强版的 Office 2010 操作]。暂停工作流的当前实例，以等待指定的列表项事件。此操作监听两个事件： **ItemUpdated** 和 **ItemAdded**。  <br/> |
|等待当前项目中的域更改  <br/> |等待当前项的一个域上等于某个特定值。  <br/> |
   

### 项目操作
<a name="bkm_ProjectActions"> </a>

项目操作支持 Microsoft Project 集成。它们用于构建基于项目的工作流。SharePoint Designer 2013 中的项目操作都是新的。
  
    
    

**表 4. 项目操作参考**


|**操作**|**说明**|
|:-----|:-----|
|从当前项创建项目  <br/> |获取当前项目并在 SharePoint 场 PWA 网站中创建一个新项目。  <br/> |
|设置项目域  <br/> |设置 Project Server 上某特定域的值。  <br/> > **注释**> 此操作要求先签入项目。如果项目未被签入，该工作流将被终止，用户无法打开该项目中 Project Web App。           |
|设置项目阶段状态  <br/> |设置项目阶段的状态。  <br/> > **注释**> 选中一个当前项目时发生异常。           |
|设置构思列表中的状态域  <br/> |更新关联到当前项目的原始列表项的状态。  <br/> |
|等待项目事件  <br/> |等待特定项目事件。  <br/> |
   

### 任务操作
<a name="bkm_TaskActions"> </a>

任务操作能够在 SharePoint 2013 工作流平台的工作流中调用基于 SharePoint 2010 工作流平台的工作流。
  
    
    

**表 5. 任务操作参考**


|**操作**|**说明**|
|:-----|:-----|
|分配任务  <br/> |将工作流任务分配给用户，并建立完成任务的截止日期。  <br/> |
|启动任务进程  <br/> |创建多用户任务，并使该任务能够通过自定义进程执行。  <br/> |
   

### 实用程序操作
<a name="bkm_UtilityActions"> </a>

实用程序操作用于操作字符串或查找日期间的时间间隔。
  
    
    

**表 6. 实用程序操作参考**


|**操作**|**说明**|
|:-----|:-----|
|从字符串结尾提取子字符串  <br/> |复制指定的数目的字符（从字符串的末尾开始），并将输出存储在变量中。  <br/> |
|从字符串索引提取子字符串  <br/> |复制一个从字符串中的指定索引处开始的子字符串，并将该值放在一个变量中。  <br/> > **注释**> 请注意，虽然 Microsoft SharePoint Designer 2013 中的索引值从零开始，但是 SharePoint Designer 2010 中的索引值却从 1 开始。           |
|从字符串开头提取子字符串  <br/> |复制从字符串的开头开始的指定数目的字符，并将输出存储在一个变量中。  <br/> |
|从长度索引提取字符串的子字符串  <br/> |复制从字符串指定索引处开始并包括指定数量字符的子字符串，并将该值放在一个变量中。  <br/> > **注释**> 请注意，虽然 Microsoft SharePoint Designer 2013 中的索引值从零开始，但是 SharePoint Designer 2010 中的索引值却从 1 开始。           |
|查找日期之间的间隔  <br/> |以分钟、小时或天计算两个日期之间的时间间隔，并将输出存储在一个变量中。  <br/> |
|剪裁字符串  <br/> |删除从字符串开始到结束的空格。  <br/> |
|在字符串中查找子字符串  <br/> |查找一个字符串内的特定子字符串，并返回子字符串起始位置的索引。  <br/> |
|替换字符串中的子字符串  <br/> |将特定子字符串替换为另一个子字符串。  <br/> |
|剪裁字符串  <br/> |删除从字符串开始到结束的空格。  <br/> |
   

## 在 SharePoint 2013 中已弃用的工作流操作
<a name="bkm_NotAvailable"> </a>

对于已弃用的 SharePoint 2010 中的操作列表，将不会出现在 SharePoint 2013 中，请参阅 [可使用工作流互操作性桥执行的工作流操作](workflow-actions-available-using-the-workflow-interop-bridge.md)。
  
    
    

## 其他资源
<a name="bkm_addlresource"> </a>


-  [SharePoint 2013 的工作流操作和活动引用](workflow-actions-and-activities-reference-for-sharepoint-2013.md)
    
  
-  [SharePoint 2013 工作流基础](sharepoint-2013-workflow-fundamentals.md)
    
  
-  [SharePoint 2013 中的工作流入门](get-started-with-workflows-in-sharepoint-2013.md)
    
  
-  [SharePoint Designer 和 Visio 中的工作流开发](workflow-development-in-sharepoint-designer-and-visio.md)
    
  
